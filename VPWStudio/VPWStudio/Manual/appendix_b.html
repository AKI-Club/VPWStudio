<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>VPW Studio Manual - Appendix B: Program Formats</title>
<link rel="stylesheet" href="./manual.css">
</head>

<body>
<div id="header">
<h1>VPW Studio &ndash; Appendix B: Program Formats</h1>
<p><a href="./index.html">Return to Manual</a></p>
</div>

<hr />
<h2>Notice</h2>
<p>As VPW Studio is still under development, changes to program formats are
likely to happen.</p>

<hr />
<h2>Table of Contents</h2>
<ol type="1">
	<li><a href="#LocationFile">LocationFile Format</a></li>
	<li><a href="#FileTableDB">FileTableDB Format</a></li>
	<li><a href="#StableDef">Stable Definition Format</a></li>
	<li><a href="#ProjectFile">ProjectFile Format</a></li>
</ol>

<hr />

<h3><a name="LocationFile">Appendix B1: LocationFile Format</a></h3>
<p>The LocationFile format is a plain text database defining locations in ROM
and RAM to be used by VPW Studio. Each non-comment line consists of a entry in
the LocationFile.</p>

<p>Lines starting with the <code>#</code> character are comments, and will be
ignored by the LocationFile loader.</p>

<h4>Breakdown</h4>
<p><code>LocationType:Location,Size;Comment</code></p>

<h4>LocationType</h4>
<p>This value is either <code>ROM</code> or <code>RAM</code>.
ROM locations assume the Z64 file format (like the rest of the program).
RAM locations are primarily for use with the GameShark code tool.</p>

<h4>Location</h4>
<p>The location for this entry, specified in hex. If this is a RAM entry,
it must begin with <code>80</code>. Do not use <code>81</code> if you are
converting a GameShark code to a LocationFile entry; the size is handled
in the next section.</p>

<h4>Size</h4>
<p>The size of this entry, in decimal. For a normal entry, this is how many
bytes to read/write.</p>

<p>When handling a Code Change entry (see below), the Size value represents
the number of bytes between the first and second change.</p>

<h4>Comment</h4>
<p>The comment section is typically used to provide a note about the location,
but comments starting with special characters have different meanings.</p>

<p>Special characters currently handled:</p>
<ul>
<li><code>$</code> &ndash; <strong>Data Location</strong>: Specific locations
VPW Studio looks for to handle ROM reads/writes.</li>
<li><code>%</code> &ndash; <strong>Code Change</strong>: Locations used for modifying game code.</li>
</ul>

<p>Special location strings are mapped in the program, so you can't make things up
and expect VPW Studio to understand them. The current list of handled special
location strings:</p>

<strong>Data Locations</strong>
<ul>
<li><code>$FILETABLE</code> &ndash; Location of the FileTable in ROM.</li>
<li><code>$FIRSTFILE</code> &ndash; Location of the first file described by the FileTable in ROM. (Size field does not matter.)</li>
<li><code>$WRESTLERDEFS</code> &ndash; Location of Wrestler Definitions.</li>
</ul>

<strong>Code Changes</strong>
<ul>
<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>

<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>

<li><code></code> &ndash; </li>
<li><code></code> &ndash; </li>
</ul>

<hr />
<h3><a name="FileTableDB">Appendix B2: FileTableDB Format</a></h3>
<p>The FileTableDB format is a plain text database mapping File IDs to types
and notes.</p>

<p>Lines starting with the <code>#</code> character are comments, and will be
ignored by the FileTableDB loader.</p>

<h4>Breakdown</h4>
<p><code>FileID=Type;Notes|Settings</code></p>

<h4>FileID</h4>
<p>The ID file for this entry. Entries are in hex and should have 4 digits.
Entries start from 0001, as 0000 is used as a "no file" index.</p>

<h4>Type</h4>
<p>(This is the challenging part.)</p>

<p>Currently supported values:</p>
<ul>
<li><code>Binary</code> &ndash; Default file type.</li>
<li><code>AkiAnimation</code> &ndash; Animation data.</li>
<li><code>AkiArchive</code> &ndash; An archive of files. Zoinkity's Midwaydec
uses "<code>TEXarchive</code>" for this format, but not all archives exclusively
contain TEX files.</li>
<li><code>AkiModel</code> &ndash; Model data.</li>
<li><code>AkiTexture</code> &ndash; AKI texture wrapper (a.k.a. "TEX")</li>
<li><code>AkiText</code> &ndash; AKI text archive.</li>
<li><code>AkiLargeFont</code> &ndash; Large font data (24px wide)</li>
<li><code>AkiSmallFont</code> &ndash; Small font data (16px wide)</li>
<li><code>AkiFontChars</code> &ndash; Font Characters (typically Shift-JIS)</li>
<li><code>MenuBackground</code> &ndash; Menu Background (use on first file in sequence only)</li>
<li><code>Ci4Palette</code> &ndash; CI4 palette (16 colors * 2 bytes)</li>
<li><code>Ci8Palette</code> &ndash; CI8 palette (256 colors * 2 bytes)</li>
<li><code>I4Texture</code> &ndash; I4 texture (4BPP)</li>
<li><code>Ci4Texture</code> &ndash; CI4 texture (4BPP)</li>
<li><code>Ci8Texture</code> &ndash; CI8 texture (8BPP)</li>
<li><code>DoubleTex</code> &ndash; WCW/nWo Revenge credits faces (two TEX files, one after another)</li>
<li><code>MenuBackground</code> &ndash; Used for the first file of a multi-part background image.</li>
<li><code>Ci4Background</code> &ndash; Raw CI4 image used for some backgrounds in WWF No Mercy.</li>
<li><code>MenuItems_NoGroup</code> &ndash; WWF No Mercy-specific menu item text (no groups).</li>
<li><code>MenuItems_Shop</code> &ndash; WWF No Mercy-specific menu item text (Smackdown Mall Shop items).</li>
</ul>

<h4>Notes</h4>
<p>A note displayed in the FileTable dialog. If you are not adding any Settings
to this item, you do not need to do anything special, aside from avoiding the
"<code>|</code>" character in your description.</p>

<h4>Settings</h4>
<p>Settings are optional, but are recommended for some file types. The beginning
of the Settings string is denoted by a "<code>|</code>" at the end of the Note.</p>

<p>Currently supported values:</p>
<ul>
<li><code>w:</code> (number) &ndash; Image width</li>
<li><code>h:</code> (number) &ndash; Image height</li>
<li><code>p:</code> (hex number) &ndash; Intended Palette File ID</li>
<li><code>mh:</code> (<code>true</code> or <code>false</code>) &ndash; Horizontally mirror image</li>
<li><code>mv:</code> (<code>true</code> or <code>false</code>) &ndash; Vertically mirror image</li>
</ul>

<p>Currently unsupported values:</p>
<ul>
<li><code>t:</code> (number) &ndash; Transparent color index (not implemented)</li>
</ul>

<hr />
<h3><a name="StableDef">Appendix B3: Stable Definition Format</a></h3>
<p>The Stable Definition file is a text file following a specific pattern.
Each game in the series defines Stable data differently, requiring the creation
of an intermediate format.</p>

<p>Generally, the format consists of:</p>
<ul>
<li>Game identifier.</li>
<li>One line per stable, defining all necessary data.</li>
</ul>

<h4>WCW vs. nWo World Tour</h4>
<ul>
<li><strong>Game Identifier</strong> &ndash; <code>WorldTour</code></li>
<li><strong>Max Wrestlers in Stable</strong> &ndash; ?</li>
</ul>

<h4>Virtual Pro-Wrestling 64</h4>
<p>While the stable data is similar to World Tour, the wrestler select screen
is laid out differently.</p>

<p><strong>Game Identifiers</strong></p>
<ul>
<li><strong>Game Identifier</strong> &ndash; <code>VPW64</code></li>
<li><strong>Max Wrestlers in Stable</strong> &ndash; ?</li>
</ul>

<p>(todo)</p>

<h4>WCW/nWo Revenge</h4>
<ul>
<li><strong>Game Identifier</strong> &ndash; <code>Revenge</code></li>
<li><strong>Max Wrestlers in Stable</strong> &ndash; 9</li>
</ul>
<p>(todo)</p>

<h4>WWF WrestleMania 2000</h4>
<ul>
<li><strong>Game Identifier</strong> &ndash; <code>WM2K</code></li>
<li><strong>Max Wrestlers in Stable</strong> &ndash; 8</li>
</ul>

<p>(todo)</p>

<h4>Virtual Pro-Wrestling 2</h4>
<ul>
<li><strong>Game Identifier</strong> &ndash; <code>VPW2</code></li>
<li><strong>Max Wrestlers in Stable</strong> &ndash; 8</li>
</ul>

<p>Stable Number@Wrestler ID2 list pointer={wrestlers},Stable Name text index</p>
<p>Example stable definition: <code>0@8003FA0C={01,02,03,04,05,06,07,00},00E6</code></p>

<h4>WWF No Mercy</h4>
<ul>
<li><strong>Game Identifier</strong> &ndash; <code>NoMercy</code></li>
<li><strong>Max Wrestlers in Stable</strong> &ndash; 9</li>
</ul>

<p>(todo)</p>

<hr />
<h3><a name="ProjectFile">Appendix B4: Project File Format</a></h3>
<p>(todo: this is perpetually changing and is not worth documenting until it's
reached a stable state.)</p>

<hr />

<div id="footer">(footer content todo)</div>

</body>
</html>