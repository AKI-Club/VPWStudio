<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>VPW Studio Manual</title>
<link rel="stylesheet" href="./manual.css">
</head>

<body>
<div id="header">
<h1>VPW Studio <small>(incomplete)</small> Manual</h1>
<p>Version 0.0.0.15 (August 26th, 2021)<br />Program and Manual by freem<br />
<a href="https://vpw.ajworld.net/">https://vpw.ajworld.net/</a></p>
</div>

<hr />

<h2>Table of Contents</h2>
<ol>
<li><a href="#Intro">Introduction</a></li>
<li><a href="#Requirements">Requirements and Notes</a></li>
<li><a href="#ProgramOptions">Program Options</a></li>
<li><a href="#ProjectFiles">Project Files</a></li>
<li><a href="#CommonDataFormats">Common Data Formats</a></li>
<li><a href="#TextureWorkflow">Texture and Palette Workflow</a>
<ol>
<li><a href="#CostumeColorChanging">Costume Color Changing</a></li>
<li><a href="#SkinColorChanging">Skin Color Changing</a></li>
<li><a href="#TextureLayering">Texture Layering</a></li>
<li><a href="#TexTransparency">AkiTexture Transparency Fix</a></li>
</ol></li>
<li><a href="#Arenas">Arenas</a></li>
<li><a href="#Championships">Championships</a></li>
<li><a href="#Costumes">Costumes</a></li>
<li><a href="#FileTable">File Table</a><ol>
<li><a href="#FileTableEntryInfo">File Table Entry Information</a></li>
<li><a href="#Editors">Viewers and Editors</a>
	<ol>
	<li><a href="#HexViewer">Hex Viewer</a></li>
	<li><a href="#CIPaletteEdit">CI4/CI8 Palettes</a></li>
	<li><a href="#CITexturePreview">CI4/CI8 Textures</a></li>
	<li><a href="#I4TexturePreview">I4 Textures</a></li>
	<li><a href="#AKITexturePreview">AkiTexture/"TEX"</a></li>
	<li><a href="#AKITextEdit">AkiText</a></li>
	<li><a href="#ModelTool2">ModelTool2</a></li>
	<li><a href="#AnimTest">AnimTest</a></li>
	<!-- Fonts -->
	<!-- MenuItems_NoGroup -->
	<!-- MenuItems_Shop -->
	</ol>
</li></ol>
</li>
<li><a href="#Menus">Menus</a></li>
<li><a href="#Moves">Moves</a></li>
<li><a href="#SoundMusic">Sound/Music</a></li>
<li><a href="#Stables">Stables</a></li>
<li><a href="#StoryMode">Story Mode</a></li>
<li><a href="#Weapons">Weapons</a></li>
<li><a href="#Wrestlers">Wrestlers</a></li>
<li><a href="#Tools">Tools</a></li>
<li><a href="#DangerZone">Danger Zone</a></li>
<li><a href="#Credits">Credits</a></li>
</ol>

<h3><a name="GameSpecificDocs">Game-Specific Documentation</a></h3>
<p>Though each game shares a similar design, the implementation, data structures,
and other details can be different for each game.<br />(All game-specific sections
are external (i.e. separate from the main manual).)</p>
<ol>
<!--<li>Virtual Pro-Wrestling and WCW vs. the World</li> -->
<li><a href="./worldtour.html">WCW vs. nWo: World Tour</a></li>
<li><a href="./vpw64.html">Virtual Pro-Wrestling 64</a></li>
<li><a href="./revenge.html">WCW/nWo Revenge</a></li>
<li><a href="./wm2k.html">WWF WrestleMania 2000</a></li>
<li><a href="./vpw2.html">Virtual Pro-Wrestling 2</a></li>
<li><a href="./nomercy.html">WWF No Mercy</a></li>
</ol>

<h3>Appendices</h3>
<ol type='A'>
<li><a href="#Glossary">Glossary</a></li>
<li><a href="./appendix_b.html">Program Formats</a> (external section)</li>
<li><a href="./appendix_c.html">Common Data Formats</a> (external section)</li>
</ol>

<hr />
<h2><a name="Intro">Introduction</a></h2>
<p>VPW Studio is a ROM hacking tool for the games in AKI Corporation's
<em>Virtual Pro-Wrestling</em> series. The initial focus is on AKI's
Nintendo 64 games, though support for the PlayStation 1 AKI wrestling games
is planned for later. The primary inspiration for VPW Studio is the
<a href="http://n64vault.com/wiki:setup-editor-global">Goldeneye Setup Editor</a>,
which works directly on game data. This allows hacks to work on console,
assuming you follow all of the internal "rules" of the game and the
various (console and game-specific) data formats.</p>

<p>As of 2018 (when work on this program began), the primary accepted solution
for making changes to the N64 AKI wrestling games are GameShark codes and
emulator-only plugin-based texture replacements. Anyone who wanted to play
projects using these methods on console could not fully do so. The replacement
textures in these projects are often higher resolution than the originals and
typically use more than 256 colors. Both of these attributes combine to make
a situation that can't reasonably be handled with the N64's limited amount of
VRAM. GameShark codes pose their own problems, as you have to decide if you want
to use a real GameShark, or rely on your flash cart's support for GameShark codes.
It's possible to use GameShark hardware with the 64drive, for example, but you
have to load the ROM over USB via a command line tool, and you still have to
deal with the GameShark's finicky hardware, which can freeze the game if you
look at it wrong or mess up when pressing the GS button. The Everdrive64 OS
supports GameShark codes, but only a limited amount, and without any clear way
to separate and label codes. (Perhaps a third party OS fixes this; I am not
sure.) No matter what route you take, you'd be best served finding a way to
import codes from a text file, as the amount of GameShark codes these projects
typically have is in the <em>thousands</em>. That's not an exaggeration, either:</p>

<blockquote>Every attire [in AKI Evolution] requires anywhere between 842 and 1,043
lines of code.
<p>-Chuckiepk on <a href="https://twitter.com/Chuckie_PK/status/1434220438616477698">twitter</a>, September 4th, 2021</p>
</blockquote>

<p>VPW Studio aims to make it easier to change the existing game data, reducing
the need for GameShark codes that do the same thing. However, VPW Studio can't
replace all the features of a GameShark, as it works on the ROM level, and
doesn't interact with the game while it's running. This means you should not
expect VPW Studio to let you create new match types or AI behavior, among other
things. Another key point is the term "change", as adding <em>new</em> items to
the game can require editing multiple sections, and is 99% likely to require
various pointers to be rewritten to point to new locations. That's even
<em>before</em> you account changing the game code to deal with file ID assumptions
(e.g. the games assume that the animation file IDs lie in certain ranges),
which are different per game, and not all the same, either. VPW Studio is not
equipped to handle this situation, which is better handled by a full disassembly
of the game(s).</p>

<p>Even with these limitations, it's possible to use VPW Studio (along with some
other tools) to create a ROM hack of AKI's wrestling games on Nintendo 64 that will
work on real hardware. In fact, VPW Studio largely owes its existence to the
<a href="https://vpw.ajworld.net/vpw2freem/">Virtual Pro-Wrestling 2 freem Edition</a>
hack, and vice versa.</p>

<h3>Supported Games</h3>
<p>Currently, only the AKI wrestling games on the Nintendo 64 are supported:</p>
<table>
<thead>
<tr>
	<th>Game Name</th>
	<!--<th>Platform</th>-->
	<th>Supported Releases</th>
</tr>
</thead>
<tbody>
<!--<tr>
	<td>バーチャル・プロレス<br/>(Virtual Pro-Wrestling)</td>
	<td>PlayStation 1</td>
	<td>NTSC-J</td>
</tr>-->
<!--<tr>
	<td>WCW vs. the World</td>
	<td>PlayStation 1</td>
	<td>NTSC-U</td>
</tr>-->
<tr>
	<td>WCW vs. nWo: World Tour</td>
	<!--<td>Nintendo 64</td>-->
	<td>NTSC-U v1.0, NTSC-U v1.1, PAL</td>
</tr>
<tr>
	<td>バーチャル・プロレス64<br/>(Virtual Pro-Wrestling 64)</td>
	<!--<td>Nintendo 64</td>-->
	<td>NTSC-J</td>
</tr>
<tr>
	<td>WCW/nWo Revenge</td>
	<!--<td>Nintendo 64</td>-->
	<td>NTSC-U, PAL</td>
</tr>
<tr>
	<td>WWF WrestleMania 2000<br/>(WWFレッスルマニア2000)</td>
	<!--<td>Nintendo 64</td>-->
	<td>NTSC-U, NTSC-J, PAL</td>
</tr>
<tr>
	<td>バーチャル・プロレス2 〜王道継承〜<br/>(Virtual Pro-Wrestling 2)</td>
	<!--<td>Nintendo 64</td>-->
	<td>NTSC-J</td>
</tr>
<tr>
	<td>WWF No Mercy</td>
	<!--<td>Nintendo 64</td>-->
	<td>NTSC-U v1.0, NTSC-U v1.1, PAL v1.0, PAL v1.1</td>
</tr>
</tbody>
</table>
<p>Note that not every game supports every portion of VPW Studio. Supported games
are listed in the specific sections for each tool.</p>

<p>Nintendo 64 games are relatively easier to edit and rebuild, being a single
ROM image. When it comes to hacking games on disc-based systems (e.g. PlayStation,
GameCube, XBox), extra challenges are added (such as building a proper disc image
so the game can run on real hardware).</p>

<p>Support for AKI's PS1 wrestling games (<em>Virtual Pro-Wrestling</em> and
<em>WCW vs. the World</em>) is not the primary focus at the moment, but small
steps are being taken towards supporting formats the PS1 games use. Adding
proper support for hacking the PS1 games in VPW Studio would require a number
of UI changes, as well as Project File differences and various other under-the-hood
details that need changing. "Full" PS1 support will rely on external tools,
especially for video, music, and disc image creation.</p>

<p>Originally, support was also planned for the AKI-developed Def Jam games
(primarily <em>Def Jam Vendetta</em> and <em>Def Jam: Fight for NY</em>) after
adding support for the two PlayStation 1 games. As of August 2021, the Def Jam
games are officially out of scope for VPW Studio. A new, purpose-built tool
would be a better solution for the Def Jam games.</p>

<hr />
<h2><a name="Requirements">Requirements and Notes</a></h2>
<p>In order to use VPW Studio, you'll need a few things.</p>

<h3>Requirements</h3>
<ul>
<li>.NET Framework 4.7.2 or higher.</li>
<li>Any of the above listed games in Z64 ROM format. No other N64 ROM formats are
supported at this time. Please convert non-Z64 format ROMs with a tool, such as
<a href="https://ucon64.sourceforge.io/">uCON64</a>.<br />More information about
<a href="http://n64dev.org/romformats.html">N64 ROM formats</a> can be found on n64dev.org.</li>
<li>OpenGL 3.3 support (for <a href="#ModelTool2">ModelTool2</a> dialog and any future 3D-displaying stuff)</li>
<li>An image editor that can create and edit paletted PNG images. (Ideally, one that allows for exporting palettes in JASC Paint Shop Pro format.)</li>
<li>A hex editor, to do things that aren't easily possible in VPW Studio yet.
(If you don't already have a hex editor, <a href="https://mh-nexus.de/en/hxd/">HxD</a>
is recommended for Windows.)</li>
<li>A calculator that can work in hex and binary modes. Your operating system's calculator
may fit the bill (guaranteed on Windows, though you might need to switch to Programmer view).</li>
<li>Patience. (This program is not yet complete, and has a long way to go.)</li>
</ul>

<h3>Recommended Extra Tools</h3>
<p>Aside from a hex editor, an image editor, and a hex-capable calculator, you'll
probably want some other tools on hand.</p>

<ul>
<li>A Nintendo 64 emulator, for testing builds of your projects. An emulator with debugging tools is highly recommended, and currently required for some changes.</li>
<li>A 3D modeler, for viewing models exported in Wavefront OBJ format. If you haven't already bought into a specific 3D editor ecosystem, <a href="https://www.blender.org/">Blender</a> is free and supported on multiple platforms.
<ul><li>And if you decide to use Blender (v2.93), grab the <a href="https://github.com/dotGrix/AKI-Model-Blender-IO-Addon"><code>AkiModel</code> import/export plugins by Grix</a>.</li></ul></li>
<li><a href="https://github.com/queueRAM/Texture64">Texture64</a> by queueRAM &ndash; handles various Nintendo 64 texture formats.</li>
<li><a href="https://github.com/jombo23/N64-Tools">N64 Midi Tool and N64 Sound Tool</a>, originally by SubDrag and Ice Mario. As the names suggest, these handle sequenced and streaming sounds.</li>
</ul>

<h3>Notes</h3>
<ul>
<li>This program is currently a GIANT work in progress. Many features are not
implemented yet, various safeguards are not put in place, and so on.</li>
<li>Since the program is a work in progress, any and all VPW Studio-originated
file formats are subject to change. Don't get too attached to your projects.</li>
<li>Knowledge of hexadecimal is assumed.</li>
<li>This program has not been tested on non-Windows OSes. Your mileage may vary.</li>
</ul>

<hr />
<h2><a name="MainInterface">Main Interface</a></h2>
<img src="./img/main_interface.png" title="Main Interface" />
<p>The main form appears when you boot VPW Studio. Most of the functionality
is disabled until a project file is opened or created, though there are a few tools
that don't require a project.</p>

<hr />
<h2><a name="ProgramOptions">Program Options</a></h2>
<p>VPW Studio has a small set of options, primarily targeted towards the building
and playing process. Select Tools &rarr; Program Options to open the dialog.</p>

<h3>Emulator</h3>
<p>The "Emulator" section of the Program Options dialog allows you to set up an
emulator to use for testing the changed ROM.</p>
<ul>
<li><strong>Path</strong> &ndash; Path to the emulator executable file.</li>
<li><strong>Arguments</strong> &ndash; Any additional arguments to be passed to the emulator.</li>
</ul>

<h3>Build</h3>
<p>The "Build" portion of the Program Options dialog currently only contains an
option to modify the verbosity of the build log. The default option is "Normal".</p>

<p>Setting the Build Log Verbosity to "Minimal" can shorten build times, especially
on older and/or slower computers.</p>

<hr />
<h2><a name="ProjectFiles">Project Files</a></h2>
<p>VPW Studio primarily operates on the concept of Project Files. This method was
chosen due to the number of total conversion hacks created by the AKI hacking communities.</p>

<p>Project Files have the extension <code>.vpwsproj</code>. Technical information
about the Project File format can be found in <a href="./appendix_b.html#ProjectFile">Appendix B</a>.</p>

<h3>Project Structure</h3>
<p>Aside from the Project File itself, the project expects a specific directory
structure for storing files. Upon saving a project for the first time, two
directories will be made in the location the project was saved:</p>

<ul>
<li><strong>Assets</strong> &ndash; Assets are the raw files that get converted
to various game formats. This is typically where your PNG textures live.</li>
<li><strong>ProjectFiles</strong> &ndash; Anything in the ProjectFiles directory
is meant to be ready to insert (i.e. already in formats the game is expecting).</li>
</ul>

<p>VPW Studio expects these directories to exist for any saved project. You can change
their locations via the <a href="#ProjectProperties">Project Properties</a> dialog.</p>

<h3>Creating a New Project</h3>
<p>Getting started with the main portion of the program requires creating a new project.
Select "New Project..." from the File menu, which will bring up the New Project dialog.</p>

<img src="./img/new_project.png" title="New Project Dialog" />

<p>The options presented are:</p>
<ul>
<li><strong>Project Name</strong> &ndash; The name of this project.</li>
<li><strong>Author(s)</strong> &ndash; Names of people involved in the project. Optional, but recommended.</li>
<li><strong>Game Type</strong> &ndash; Select the game your project is based on. Be sure to match the proper region and revision.</li>
<li><strong>Base ROM File</strong> &ndash; Set the location of the base/input Z64 format ROM.</li>
<li><strong>Output ROM File</strong> &ndash; Set the location of the built/output Z64 format ROM.</li>
<li><strong>Custom Location File</strong> &ndash; When checked, allows you to use a
custom Location File. Helpful if you've already made changes to the base ROM that
result in differences from the default Location File for the specified Game Type.
<strong><em>Most people will not need to use this.</em></strong></li>
</ul>
<p>All of these may be changed later in the <a href="#ProjectProperties">Project
Properties</a> dialog. Upon pressing OK, you will be sent back to the main screen,
with the main form updating to reflect the new project.</p>

<p>After creating a new project, the first thing you should do is save it. This is
required for various functions of VPW Studio to work correctly.</p>

<h3>Open an Existing Project</h3>
<p>To open a VPW Studio Project File, choose "Open Project..." from the File menu.
After selecting a project file, the program interface will update to reflect what
game is being edited.</p>

<h3>Save, Save As</h3>
<p>When you want to save changes to a project, there are two options: "Save Project",
and "Save Project As". Both are available from the File menu.</p>

<h4>Save Project</h4>
<p>The first time you save a new project, the program will ask you for a location
and name to save the file. Upon doing so, two directories will be created in the
directory where the project file is saved: "Assets" and "ProjectFiles". "Assets"
is meant for unconverted items (such as <code>.png</code> images), while
"ProjectFiles" will store any files that are in game-native formats.</p>

<h4>Save Project As</h4>
<p>"Save Project As" is similar to saving normally, but it always asks for a filename
and <em><strong>doesn't</strong></em> automatically create the "Assets" and "ProjectFiles" directories.</p>

<h3><a name="ProjectProperties">Project Properties</a></h3>
<p>If you need to edit any of the project's properties, you can do so from
Project &rarr; Project Properties. While some of these options are set from
creating a new project, others can only be changed in this dialog.</p>

<h4>Main Tab</h4>
<img src="./img/project_properties-main.png" title="Project Properties - Main Tab" />
<p>The options in this section are the same as the matching entries in the New Project
dialog.</p>

<h4>Output ROM</h4>
<img src="./img/project_properties-outputrom.png" title="Project Properties - Output ROM Tab" />
<ul>
<li><strong>Output ROM File</strong> &ndash; Set the location of the built Z64 format ROM.</li>
<li><strong>Internal Game Name</strong> &ndash; Set the internal game name. 20 characters maximum; anything shorter will be padded with spaces. (Japanese characters are converted to Shift-JIS encoding when building the project.)</li>
<li><strong>Product Region</strong> &ndash; Pick a pre-set region, or set a custom letter.</li>
</ul>

<h4>Project Files</h4>
<img src="./img/project_properties-projectfiles.png" title="Project Properties - Project Files Tab" />
<ul>
<li><strong>Project Files Path</strong> &ndash; Path to files that will be converted to game-native formats.</li>
<li><strong>Asset Files Path</strong> &ndash; Path to files that are already in game-native formats.</li>
<li><strong>Custom Location File</strong> &ndash; Path to a custom location file. Only useful if you're working from a ROM that has non-trivial code changes. <em>Most people will not need to use this.</em></li>
<li><strong>Wrestler Names File</strong> &ndash; Path to the Wrestler Name file for this project. (Currently unused, and only reasonable for VPW64 and VPW2)</li>
</ul>

<h3>Build ROM</h3>
<p>To build a ROM with the changes you've made, select "Build ROM" from the "Project"
menu (Keyboard shortcut: <kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>B</kbd>). This will bring up a build log window, which
provides updates on the build process.</p>

<p>Depending on the speed of your computer, the number of File Table entries being
modified, and the Build Log Verbosity setting, this process may be relatively short
(around 10 seconds) or long.</p>

<p>Currently, building the ROM will lock the UI thread, meaning the program will
look like it's frozen. Fear not, as it's still working in the background.
This will be changed in the future.</p>

<h3>Play ROM</h3>
<p>If you want to test the changes in an emulator, select "Play ROM" from the "Project"
menu (Keyboard shortcut: <kbd>F5</kbd>). If the changed ROM hasn't been built yet, it will build
the ROM before playing it. Otherwise, it will load the last built version of the ROM.</p>
<p>For this to work, you must set up the emulator details in the <a href="#ProgramOptions">Program Options</a> section.</p>

<hr />
<h2><a name="CommonDataFormats">Common Data Formats</a></h2>
<p>When editing the AKI wrestling games, there are a number of common data formats
that appear throughout the series. The official names of most of these formats are
unknown, so VPW Studio attempts to give them reasonable names. Knowing about these
formats is essential for navigating the various entries in the <a href="#FileTable">File Table</a>.</p>

<p>This section only covers formats that are shared between multiple games (even
if implementation details may differ between games). For game-specific formats,
please see <a href="#GameSpecificDocs">the documentation for the corresponding game</a>.</p>

<p>If you are looking for specific format information (e.g. how the files are laid
out, binary-wise), please refer to <a href="./appendix_c.html">Appendix C</a>.</p>

<h3><code>AkiAnimation</code></h3>
<p><code>AkiAnimation</code> defines animation data, as you might expect from the name.
Animation data is largely the same across all 6 of AKI's N64 titles.</p>

<p>The format used for the PS1 games (<em>Virtual Pro-Wrestling</em> and <em>WCW vs.
the World</em>) has not been located or figured out. It does not appear to be standard
"TOD" format, as scanning the data files has produced 0 such animations.</p>

<p>Currently, there are no animation editing or creation facilities in VPW Studio.
Creating new animations from scratch (as opposed to splicing together existing
animations via GameShark codes) is still considered relatively "new" technology
in 2021.</p>

<h3><code>AkiArchive</code></h3>
<p>An <code>AkiArchive</code> contains multiple files packed into a single File Table
entry. The game code is responsible for handling the data inside of the archive,
so it's tricky to provide automatic support. This file type first appeared in
<em>WCW/nWo Revenge</em>.</p>

<p>Zoinkity originally called these <code>TEXarchive</code>, since the examples he
found primarily contained TEX (<code>AkiTexture</code>) files. Further review has
shown that other file types can appear inside of these archives, hence the change
to a more generic name.</p>

<p>VPW Studio has read-only support for <code>AkiArchive</code> files, but there
are a number of corner cases that are not properly handled. There is also no error
handling for opening an entry as the wrong type, so be sure to view the target
file in the hex editor before attempting to view it as a specific type.</p>

<h3><code>AkiModel</code></h3>
<p><code>AkiModel</code> defines data for a single 3D mesh. This includes vertex
location, texture positioning (U/V) values, and three other values which either
mean "vertex color" or "normal vector", depending on certain header values.</p>

<p>Where possible, tools in VPW Studio allows for export to Wavefront OBJ
format, despite the fact that it does not officially support vertex colors.</p>

<p>Until recently (September 2021), there was no workflow for importing models
back into the game. The release of <a href="https://github.com/dotGrix/AKI-Model-Blender-IO-Addon"><code>AkiModel</code>
import/export plugins for Blender by Grix</a> has changed this situation significantly.</p>

<h3><code>AkiTexture</code></h3>
<p><code>AkiTexture</code> files start with the magic word "<code>TEX</code>",
and are typically used in the user interface. They are essentially a wrapper
around the CI4 and CI8 texture and palette formats.</p>

<p>VPW Studio can convert PNG images to <code>AkiTexture</code>, but they must have
a 16 or 256-color palette. Furthermore, images with transparency need to be
<a href="#DangerZone">manually converted</a> and modified with a hex editor,
due to assumptions .NET makes about transparent images.</p>

<h3><code>AkiText</code></h3>
<p><code>AkiText</code> files contain multiple strings used for text display.</p>

<p>AkiText archives only appear in <em>WWF WrestleMania 2000</em>,
<em>Virtual Pro-Wrestling 2</em>, and <em>WWF No Mercy</em> (though the latter
game has moved away from <code>AkiText</code> for most purposes).</p>

<h3>Font-Related Formats</h3>
<p>The <code>AkiLargeFont</code>, <code>AkiSmallFont</code>, <code>AkiFontChars</code>
formats are grouped together:</p>

<ul>
<li><code>AkiLargeFont</code> has characters that are 24 pixels wide.</li>
<li><code>AkiSmallFont</code> has characters that are 16 pixels wide.</li>
<li><code>AkiFontChars</code> defines what characters show up in the font.</li>
</ul>

<p>Each font glyph is defined as a 1bpp image.</p>

<h3><code>MenuBackground</code></h3>
<p>A <code>MenuBackground</code> is a collection of unheadered <code>Ci4Palette</code>
and <code>Ci4Texture</code> data, making up a 320x240 pixel background. Implementation
details differ per game, though they only appear in <em>WWF WrestleMania 2000</em> and later.</p>

<p>VPW Studio allows for "simple" import of new data for <code>MenuBackground</code>,
but it relies on the replacement PNG image being set <em>only</em> in the entry that
is marked <code>MenuBackground</code>, and not any entry after it. For more information,
see the <a href="#GameSpecificDocs">game-specific documentation</a> for the game you're
editing.</p>

<h3><code>Ci4Palette</code> and <code>Ci8Palette</code></h3>
<p>Nintendo 64-specific palette formats. A <code>Ci4Palette</code> normally contains
16 colors, and <code>Ci8Palette</code> contains 256 colors. AKI performs some trickery
when dealing with palettes, so this doesn't explain the full story.</p>

<p>For <code>Ci4Palette</code> data, multiple sets of 16-color palettes can be defined.
VPW Studio handles these extra color sets as "sub-palettes".</p>

<p>In <em>WWF No Mercy</em>, AKI pulled a similar trick with <code>Ci8Palette</code>
files, but <code>Ci8Palette</code> sub-palettes are not currently supported in
VPW Studio.</p>

<p>To facilitate user editing, <code>Ci4Palette</code> and <code>Ci8Palette</code>
data can be converted from other palette formats. The primary non-binary palette
format supported by VPW Studio (<code>.vpwspal</code>) is a modification of the
text-based JASC Paint Shop Pro palette format, allowing for sub-palettes and
transparent values. More information on this format can be found in
<a href="./appendix_b.html#VPWSPal">Appendix B</a>.</p>

<h3><code>Ci4Texture</code> and <code>Ci8Texture</code></h3>
<p>Nintendo 64-specific texture formats. Much like the corresponding palette types,
these can either use 16 (<code>Ci4Texture</code>/<code>Ci4Palette</code>) or 256
(<code>Ci8Texture</code>/<code>Ci8Palette</code>) colors. The textures usually don't
define a palette, so one must be loaded.</p>

<p>VPW Studio can convert PNG images to <code>Ci4Texture</code> and <code>Ci8Texture</code>,
but they must have a 16-color (for <code>Ci4Texture</code>) or 256-color (for <code>Ci8Texture</code>)
palette. Images with transparency do not need to be manually converted, but the matching
palette file must have the relevant colors marked as transparent. Some games even have
specific rules about palette indices, which can be found in the <a href="#GameSpecificDocs">game-specific documentation</a>.</p>

<h3><code>I4Texture</code></h3>
<p>Nintendo 64-specific "intensity" texture format. Allows for 16 steps of intensity.
There are other "intensity"-based texture formats used on the N64, but so far, only
the "I4" format has been found in AKI's games.</p>

<p>VPW Studio provides no support for converting images to <code>I4Texture</code>.
The current recommended workflow is to use Texture64 to save the I4 format texture
and import that data via the File Table.</p>

<hr />
<h2><a name="TextureWorkflow">Texture and Palette Workflow</a></h2>
<p>(Notice: This section primarily deals with workflows targeting the Nintendo 64.
Information on targeting PlayStation 1 will be added once VPW Studio is capable
of handling it.)</p>

<p>Dealing with textures in a ROM-based project is very different from using
replacement textures with emulator plugins. This is due to various tricks that
AKI uses to handle layered items and color changing. Each game handles these
systems slightly differently, and implementation-specific details are found
in the <a href="#GameSpecificDocs">game-specific documentation</a>.</p>

<p>(todo: this is a very important subject and requires detailed information!)</p>

<h3><a name="CostumeColorChanging">Costume Color Changing</a></h3>
<p>The ability to change the colors on costumes was first implemented in
<em>Virtual Pro-Wrestling 64</em>. The developers at AKI decided to use "pure"
red, green, and blue colors to signify different color-able parts of the texture.
By "pure" colors, we mean that the values for other channel components are set
to 0. All colors that are not related to costume color changing can be set as
you like (making sure they're not "pure" colors). The "pure" colors are then
replaced with the custom color by looking up the corresponding value in a palette
file.</p>

<p>As mentioned in the Common Data Formats section, a <code>Ci4Palette</code>
can have multiple "sub-palettes", and this is key to allowing the costume color
changing system to work (in all games after VPW64). The first 16 colors of a
costume texture's palette is dedicated to the colors you'd see if you set the
custom color to 0 (WM2K/VPW2/No Mercy). The colors used in the first set <em>do
not</em> need to be found in the custom color palette. The second set of 16 colors
should use the "pure" green and blue values that define the changeable colors.
(The handling of "pure" red values is game-specific.)</p>

<p>Some of the original textures in the games don't bother with a custom palette
in the first set, and just use the "pure" green/blue values in both the main and
sub-palettes. In this case, you will need to find the location of the default
custom colors for the costume item. This is somewhere in ROM, and is in a different
location for each game.</p>

<p>Mask editing, while using a similar system, is exclusive to <em>Virtual Pro-Wrestling
2</em>, and is explained in <a href="./vpw2.html">its game-specific documentation</a>.</p>

<h3><a name="SkinColorChanging">Skin Color Changing</a></h3>
<p>(todo: revenge and later)</p>

<h3><a name="TextureLayering">Texture Layering</a></h3>
<p>Costume items are often layered on top of other textures. This includes
regular costume items, as well as various facial features (fringe hair,
facial hair, facepaint). In games before <em>WWF WrestleMania 2000</em>, this
was a non-issue, as all face and costume textures are pre-composed, and there
was no full-featured Edit Mode to allow for customization.</p>

<h4>Body</h4>
<p>The textures for the body are comprised of the skin, any tattoos, and the
costume items, generally displayed in that order.</p>

<h4>Face</h4>
<p>Faces are a bit more complex, with the following components:</p>
<ul>
<li>The base face texture</li>
<li>Fringe/"front" hair</li>
<li>Facial hair</li>
<li>Facepaint and Accessories</li>
</ul>

<p>The ordering and location of these elements is not always obvious. For
example, accessories can be positioned over or under the facial and fringe
hair layers. Accessories can also wrap around the back of the head, requiring
an additional texture. The base vertical locations of facial hair can be set both
per-face and per-facial hair item.</p>

<h3><a name="TexTransparency"><code>AkiTexture</code> Transparency Fix</a></h3>
<p>Since the .NET Framework has issues with transparent PNG files (namely, assuming
they can't possibly be paletted), you have to manually fix the transparency in any
<code>AkiTexture</code> formatted texture. To do this, you'll need to manually
change a palette entry to be transparent via a hex editor.</p>

<p>TEX files start with 16 bytes of header data, which is followed by the palette
data (starting at file offset <code>0x10</code>). Each color takes up two bytes in
the palette. If it's a 16-color texture, there will be 32 bytes of palette data.
If it's a 256-color texture, there will be 512 bytes of palette data. The key to
transparency is the least significant bit of the <em>second</em> byte. For example,
non-transparent full black would have the hex values <code>00 01</code>. To make
this transparent, you would change it to <code>00 00</code>. For other colors,
it's best to throw the second byte into a hex-capable calculator, then switch to
binary mode and modify the least significant bit to be 0.</p>

<p>If you're having trouble determining which palette entry represents the color
that needs to be transparent, check the pixel data for the most common value.
In a 256-color picture, each byte represents a single color, which is simple
enough. For 16-color pictures, each byte represents two colors, packing the
color index into a "nibble". For example, a hex value of <code>23</code>
would draw two pixels using palette index 2 and 3.</p>

<hr />
<h2><a name="Arenas">Arenas</a></h2>
<p>(todo: this portion of the program requires a 3D renderer handling multiple objects, and I'm not fully there yet. -f)</p>

<hr />
<h2><a name="Championships">Championships</a></h2>
<p>The Championships editor differs for each game:</p>
<ul>
<li><strong>WCW vs. nWo World Tour</strong>, <strong>Virtual Pro-Wrestling 64</strong>, and <strong>WCW/nWo Revenge</strong> &ndash;
This doubles as the Story Mode/Champion Road editor.</li>
<li><strong>WWF WrestleMania 2000</strong> and <strong>Virtual Pro-Wrestling 2</strong> &ndash; Edit the possible designs
available when making a new belt.</li>
<li><strong>WWF No Mercy</strong> &ndash; Edit the default championship data.</li>
</ul>

<p>(todo)</p>

<h3>Game Support</h3>
<table>
<thead>
<tr>
<th>Game</th>
<th>Support</th>
</tr>
</thead>
<tbody>
<tr>
<td>WCW vs. nWo World Tour</td>
<td class="notsupported">No</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 64</td>
<td class="notsupported">No</td>
</tr>
<tr>
<td>WCW/nWo Revenge</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>WWF WrestleMania 2000</td>
<td class="notsupported">No</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 2</td>
<td class="notsupported">No</td>
</tr>
<tr>
<td>WWF No Mercy</td>
<td class="notsupported">No</td>
</tr>
</tbody>
</table>

<hr />
<h2><a name="Costumes">Costumes</a></h2>
<p>The costume viewer allows you to view the values used for each costume in the game.
This is not to be confused with default wrestler costumes in <em>WrestleMania 2000</em>
and later, which can be found in the <a href="#Wrestlers">Wrestlers</a> section.</p>

<p>(todo: this is different per game and isn't fully designed)</p>

<hr />
<h2><a name="FileTable">File Table</a></h2>
<p>The File Table editor, accessed from Project &rarr; File Table, allows you to
view and edit the entries in the game's File Table. A large portion of the game's
data is found here, including wrestler movesets, parameters, move data, animations,
textures, palettes, models, and more.</p>

<h3>Game Support</h3>
<table>
<thead>
<tr>
<th>Game</th>
<th>Read</th>
<th>Write</th>
</tr>
</thead>
<tbody>
<tr>
<td>WCW vs. nWo World Tour</td>
<td class="supported">Yes</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 64</td>
<td class="supported">Yes</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>WCW/nWo Revenge</td>
<td class="supported">Yes</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>WWF WrestleMania 2000</td>
<td class="supported">Yes</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 2</td>
<td class="supported">Yes</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>WWF No Mercy</td>
<td class="supported">Yes</td>
<td class="supported">Yes</td>
</tr>
</tbody>
</table>

<br />

<img src="./img/filetable-main.png" title="File Table Editor - Main" />

<p>Double left clicking on a single File Table entry will attempt to preview
or edit the selected item. This does not always work, and you may be presented
with a Hex Viewer instead. The preview and/or editor dialog that comes up
depends on the entry's File Type. More information about these tools can be
found in the "<a href="#Editors">Viewers and Editors</a>" section of the manual.</p>

<p>Right clicking on a File Table entry will bring up a context menu with a few options:</p>

<ul>
<li><strong>Set Type</strong> &ndash; Change the File Type for the selected entry.
Available options depend on what game you're editing. Some common types are mentioned
in the <a href="#CommonDataFormats">Common Data Formats</a> section, and game-specific types are mentioned in
<a href="#GameSpecificDocs">game-specific documentation</a>.</li>
<li><strong>Edit Information</strong> &ndash; Opens the <a href="#FileTableEntryInfo">File Table Entry Information dialog</a> for the selected entry.</li>
<li><strong>View Hex</strong> &ndash; Opens a <a href="#HexViewer">Hex Viewer</a> with the selected entry's data.</li>
<li><strong>Extract File</strong> &ndash; Extracts the selected entry to a file, decompressing it if necessary.</li>
<li><strong>Extract Raw</strong> &ndash; Extracts the compressed version of the selected
entry without decompressing it. (Only available if "LZSS" is set to "True" for this entry.
<em>Most people will not need to use this.</em>)</li>
</ul>

<p>If you right click on an entry that is set as <code>MenuBackground</code>, an
additional option, "MenuBackground Replacement..." will appear. This option converts
a 320x240 16-color PNG file into the requisite menu background files, and set the
relevant entries in the File Table. The output files are put in the ProjectFiles
directory, in a sub-directory called "Backgrounds". Each converted <code>MenuBackground</code>
creates a sub-directory based on the original PNG's filename.</p>

<h3>Navigation Menu</h3>
<p>The Navigation menu contains various functions to help you find entries in the File Table.</p>

<h4>Go To</h4>
<p>The "Go To" option (keyboard shortcut <kbd>Ctrl</kbd>+<kbd>G</kbd>) allows you to jump to a specific file number.
The value is in hexadecimal, so be aware of that.</p>

<h4>Search and Find Next</h4>
<p>You can search for a file based off of its comment text using the Search function
(keyboard shortcut <kbd>Ctrl</kbd>+<kbd>F</kbd>). Once a search has begun, you can use
"Find Next" (keyboard shortcut <kbd>F3</kbd>) to search for the next comment.
Holding <kbd>Shift</kbd> while pressing <kbd>F3</kbd> moves backwards.</p>

<p>Note: Currently, the search can not be told to skip over item numbers. If you wish
to skip past a portion of the list, start a search, then scroll down and select
an item that is located past the area you wish to skip. Any further "Find Next"
commands issued will continue searching from the selected item.</p>

<h3>Database Menu</h3>
<p>The Database menu only contains one option, but it's important if you've upgraded
to a new version of VPW Studio or updated the FileTableDB for the game you're editing.
"Reload File Table Database" will let you update your project's File Table with the
current data in the FileTableDB file for the current game. When selecting this option,
you will be asked if you want to overwrite any of your existing comments with the
comments in the FileTableDB.</p>

<h3>Export Menu</h3>
<p>The Export Menu is something most people won't ever need to touch. Despite being
able to export a list for Midwaydec, Zoinkity has said that program is dead.
The "Export CSV" option is only of use for people dealing with disassemblies,
and presumes that freem (or someone else) has written the corresponding tool that
uses said format (which hasn't happened yet, as of this writing).</p>

<h2><a name="FileTableEntryInfo">File Table Entry Information</a></h2>
<p>There are two versions of the File Table Entry Information dialog, depending
on how many entries are selected.</p>

<h4>Single Entry</h4>
<img src="./img/filetable_entry_single-main.png" title="File Table Entry Information (single file selected) - Main" />

<p>The "Main" tab contains the following settings:</p>
<ul>
<li><strong>File Type</strong> &ndash; File type for this entry. Like the context menu, the available options depend on the game being edited.</li>
<li><strong>Force File Type</strong> &ndash; (todo: document this)</li>
<li><strong>Comment</strong> &ndash; Comment for this entry.</li>
<li><strong>Replacement Encoding</strong> &ndash; Choose the encoding for this entry. Only the "Force" options work as intended. ("Pick Best" is meant to test both options and select the smallest one, but it's not implemented yet.)</li>
<li><strong>Replacement File Path</strong> &ndash; Path to the replacement file for this entry. You can use the "Browse" button to pick a file.</li>
</ul>

<img src="./img/filetable_entry_single-extra.png" title="File Table Entry Information (single file selected) - Extra" />
<p>The single entry dialog has an "Extra" tab, which includes a few options
for specific file types.</p>
<ul>
<li><strong>Image Width</strong> &ndash; Set the width of an image. Primarily used with <code>I*Texture</code>s. "Unset" value is -1.</li>
<li><strong>Image Height</strong> &ndash; Set the height of an image. Primarily used with <code>I*Texture</code>s. "Unset" value is -1.</li>
<li><strong>Transparent Color Index</strong> &ndash; Currently unused. "Unset" value is -1.</li>
<li><strong>Default Palette ID</strong> &ndash; Set the default palette ID, used for
previewing images. The value corresponds to an index in the File Table, and is
hexadecimal. "Unset" value is <code>FFFFFFFFFFFFFFFF</code>, since File Table IDs
are unsigned.</li>
<li><strong>Horizontal Mirroring</strong> &ndash; Force horizontal mirroring for a texture. Primarily used with <code>CI*Texture</code>s.</li>
<li><strong>Vertical Mirroring</strong> &ndash; Force vertical mirroring for a texture. Primarily used with <code>CI*Texture</code>s.</li>
</ul>
<p>These options are <em><strong>not</strong> disabled</em> based on the entry's file type, so be careful
when using them.</p>

<h4>Multiple Entries</h4>
<img src="./img/filetable_entry_multiple.png" title="File Table Entry Information (multiple files selected) - Main" />

<p>If multiple entries are selected, the multi-entry version of the dialog is displayed.
Each file table entry is given its own row in a grid, with the following columns:</p>
<ul>
<li><strong>File ID</strong> &ndash; The index/ID of this file table entry. Read-only.</li>
<li><strong>File Type</strong> &ndash; File type for this entry. Like the context menu and single entry dialog, the available options depend on the game being edited.</li>
<li><strong>Encoding</strong> &ndash; (currently broken, don't touch it!)</li>
<li><strong>Comment</strong> &ndash; Comment for this entry.</li>
<li><strong>Replacement File</strong> &ndash; Path to the replacement file for this entry.</li>
<li><strong>Browse</strong> &ndash; Browse for a replacement file.</li>
</ul>

<p>Since various types of files can be selected, the contents of the "Extra" tab
from the single entry dialog do not appear here.</p>

<h2><a name="Editors">Viewers and Editors</a></h2>
<p>When double left clicking on a single entry in the <a href="#FileTable">File
Table editor</a>, VPW Studio will attempt to show an editor or previewing tool
for the file in question. This section covers the various tools available.</p>

<h3><a name="HexViewer">Hex Viewer</a></h3>
<img src="./img/hexviewer.png" title="Hex Viewer" />

<p>The Hex Viewer is used to display data for "Binary" file types, but it can also
be requested via the File Table context menu ("View Hex..."). The data is read-only,
so an external hex editor must be used to make changes.</p>

<h3><a name="CIPaletteEdit">CI4/CI8 Palettes</a></h3>
<img src="./img/ci4palette_editor.png" title="Ci4Palette Editor" />&nbsp;
<img src="./img/ci8palette_editor.png" title="Ci8Palette Editor" />
<p>Target Filetypes: <code>Ci4Palette</code>, <code>Ci8Palette</code></p>

<p>The CI4 and CI8 Palette Editor allows you to view and change palette values.</p>

<p>Select the color to change using the Current Color drop-down box. Modify the
values using the Red, Green, and Blue numeric boxes on the upper right hand side.
You can also toggle the transparency of a color with the "Transparent" checkbox.</p>

<p>The Palette Set option is only available with CI4 palettes, and only usable if
the CI4 palette has a sub-palette.</p>

<h4>Supported Palette Formats</h4>
<p>There are multiple palette formats available for import and export:</p>
<ul>
<li>The game-native formats, "CI4 Palette"/<code>.ci4pal</code> and "CI8 Palette"/<code>.ci8pal</code>. Supports sub-palettes.</li>
<li>The VPW Studio palette format/<code>.vpwspal</code> (recommended for editing). Supports sub-palettes.</li>
<li>JASC Paint Shop Pro palette format/<code>.pal</code>. Does not support sub-palettes; each sub-palette must be manually imported/exported.</li>
<li>GIMP palette format/<code>.gpl</code>. Does not support sub-palettes; each sub-palette must be manually imported/exported.</li>
</ul>

<h3><a name="CITexturePreview">CI4/CI8 Textures</a></h3>
<p>(todo: screenshots)</p>
<p>Target Filetypes: <code>Ci4Texture</code>, <code>Ci8Texture</code></p>

<p>CI4 and CI8 Textures use a similar viewer, with the ability to change what
palette is being used. <code>CI4Texture</code>s additionally support sub-palettes,
which are alternate sets of 16 colors.</p>

<h3><a name="I4TexturePreview">I4 Textures</a></h3>
<p>(todo: screenshot)</p>
<p>Target Filetype: <code>I4Texture</code></p>

<p>The viewer for I4 textures is a bit more complicated than the CI4/CI8 texture
viewer, as I4 textures don't have a width or height set in the file. Unless the
file you're previewing has set up the required Extra Data values (see the "File
Table Entry Information" section), you'll need to play with the width and height
values to find the proper settings. Be sure to press the Refresh button to update
the image preview.</p>

<p>Right clicking on the image brings up a context menu with two options:</p>
<ul>
<li><strong>Save PNG</strong> &ndash; Exports the texture as a 32-bit (RGBA) PNG.</li>
<li><strong>Background Color</strong> &ndash; Change the background color, useful for seeing things better.</li>
</ul>

<h3><a name="AKITexturePreview">"TEX" Textures</a></h3>
<p>(todo: screenshot?)</p>
<p>Target Filetype: <code>AkiTexture</code></p>

<p>A simple previewer for the "TEX"/AkiTexture format. Since this format is
a container for multiple image types, the available options are limited.</p>

<p>Scroll the mouse wheel to change the zoom level. Right clicking on the image
brings up a context menu with two options:</p>
<ul>
<li><strong>Save PNG</strong> &ndash; Exports the texture as a 32-bit (RGBA) PNG.</li>
<li><strong>Background Color</strong> &ndash; Change the background color, useful for images with transparency.</li>
</ul>

<p>The <kbd>Esc</kbd> button can be used to close the TEX previewer, in case the size of
the loaded texture makes it hard to click on the close window button.</p>

<h3><a name="AKITextEdit">AKIText</a></h3>
<img src="./img/akitext.png" title="AKIText Editor" />
<p>Target Filetype: <code>AkiText</code></p>

<p>The AKIText editor is used for text archives. These archives were first used
<em>in WWF WrestleMania 2000</em>, and can also be found in <em>Virtual Pro-Wrestling 2</em>
and <em>WWF No Mercy</em>. (todo: more info)</p>

<ul>
<li><strong>Import CSV...</strong> &ndash; Import an existing CSV file, replacing all entries with the data.</li>
<li><strong>Export CSV...</strong> &ndash; Export the current AKIText archive to a CSV file.</li>
<li><strong>Control Codes</strong> &ndash; Shows a dialog box with the various control
codes (typically) available for text display.</li>
</ul>

<h3><a name="ModelTool2">ModelTool2</a></h3>
<img src="./img/modeltool2.png" title="ModelTool2" />
<p>Target Filetype: <code>AkiModel</code></p>

<p>This is a very incomplete tool for dealing with 3D model data (File Type
<code>AkiModel</code>). Not to be confused with the <a href="#ModelTool">Model Tool</a>
found via Tools &rarr; Model Data. The end goal is to be a quick and dirty 3D model
previewer, so you don't need to export the model to figure out what it is.</p>

<p>The available menu items:</p>
<ul>
<li><strong>Export Wavefront OBJ</strong> &ndash; Exports the model to Wavefront OBJ format, for importing into other tools.</li>
<li><strong>Load Texture</strong> &ndash; Brings up a texture selection dialog, further explained below.</li>
<li><strong>Texture Enabled</strong> &ndash; Enable/disable texture mapping. Only really works if a texture has been loaded.</li>
<li><strong>Horizontal Mirroring</strong> &ndash; Change the horizontal texture repeat style. Loading a Ci4/Ci8 texture can set this option as well, depending on the value in the texture header.</li>
<li><strong>Vertical Mirroring</strong> &ndash; Change the vertical texture repeat style. Loading a Ci4/Ci8 texture can set this option as well, depending on the value in the texture header.</li>
</ul>

<h4>Load Texture</h4>
<img src="./img/select_texture.png" title="ModelTool2's Texture Selection Dialog" />

<p>The "Load Texture" dialog does what it suggests, allowing you to choose
a texture to map to the model. The available choices depend on what's in the
File Table, so any texture file without a specific file type set won't show up
in here.</p>

<p>The three Texture Type options are:</p>
<ul>
<li><strong>Ci4Texture</strong> &ndash; 4bpp/16 color images</li>
<li><strong>Ci8Texture</strong> &ndash; 8bpp/256 color images</li>
<li><strong>AkiTexture</strong> &ndash; Typically used for user interface stuff, but provided here just in case.</li>
</ul>

<p>Texture File ID works for all modes, while Palette File ID can only be set
with Ci4Texture or Ci8Texture. Sub-palettes are not supported in this dialog.</p>

<h3><a name="AnimTest">AnimTest</a></h3>
<p>(todo: screenshot)</p>
<p>Target Filetype: <code>AkiAnimation</code></p>

<p>"AnimTest" is a tool that breaks down animation data into separate frames
and components. As this tool is very early in development, it requires external
knowledge to understand the displayed data.</p>

<p>The "Copy Hex" option is meant to be used with S.K. Stylez's Animation Editor
spreadsheet. Paste it into cell D3 (main) or D43 (secondary).</p>

<hr />
<h2><a name="Menus">Menus</a></h2>
<p>The Menus option (Project &rarr; Menus) allows you to change how the items
are laid out on various game menus.</p>

<p>(todo: haven't even designed this because I don't have the data mapped,
plus it's pretty different for each of the games)</p>

<hr />
<h2><a name="Moves">Moves</a></h2>
<p>The Moves section (Project &rarr; Moves) deals with every move and animation found in the game.</p>

<p>(todo: this takes a lot of work to get right, considering moves are composed
of multiple parts (toki1, damage, actual animation data, data required for things
to be selectable in menus...), and most of the formats change per-game)</p>

<hr />
<h2><a name="SoundMusic">Sound/Music</a></h2>
<p>The Sound and Music editor (Project &rarr; Sound/Music) will eventually allow you
to preview and change sounds. (This includes the theme music found in WM2K, VPW2,
and No Mercy.)</p>

<p>(todo: I haven't even begun to think about this; you're better off using SubDrag's N64 sound/music tools right now)</p>

<hr />
<h2><a name="Stables">Stables</a></h2>
<p>The Stable Editor (Project &rarr; Stables) allows you to change the default stable data.
The stable data controls how the wrestlers are grouped and displayed in the menus.</p>

<p>(todo)</p>

<h3>Game Support</h3>
<table>
<thead>
<tr>
<th>Game</th>
<th>Support</th>
</tr>
</thead>
<tbody>
<tr>
<td>WCW vs. nWo World Tour</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 64</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>WCW/nWo Revenge</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>WWF WrestleMania 2000</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 2</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>WWF No Mercy</td>
<td class="supported">Yes</td>
</tr>
</tbody>
</table>

<h3>WCW vs. nWo World Tour, Virtual Pro-Wrestling 64</h3>
<p>Since the Stable data structures in these two games are the same, they're grouped together.</p>

<h3>WCW/nWo Revenge</h3>
<img src="./img/stable_editor-revenge.png" title="Stable Editor - WCW/nWo Revenge" />
<ul>
<li><strong>Wrestler Definitions</strong> &ndash; Pointer to the wrestler definition data for this stable.</li>
<li><strong>Wrestler Count</strong> &ndash; Number of wrestlers in this stable.</li>
<li><strong>Header Graphic</strong> &ndash; File ID of the stable graphic.</li>
</ul>

<p>In <em>WCW/nWo Revenge</em>, the wrestler list is defined by pointers to
the wrestler data. Due to this, not all features work at this time. Some
features may appear to work, but data is not written back to ROM during the
build process.</p>

<h3>WWF WrestleMania 2000, Virtual Pro-Wrestling 2, WWF No Mercy</h3>
<p>Since the data structures in these three games are similar, they're grouped together.</p>

<table>
<thead>
<tr>
<th>WWF WrestleMania 2000</th>
<th>Virtual Pro-Wrestling 2</th>
<th>WWF No Mercy</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="./img/stable_editor-wm2k.png" title="Stable Editor - WWF WrestleMania 2000" /></td>
<td><img src="./img/stable_editor-vpw2.png" title="Stable Editor - Virtual Pro-Wrestling 2" /></td>
<td><img src="./img/stable_editor-nomercy.png" title="Stable Editor - WWF No Mercy" /></td>
</tr>
</tbody>
</table>

<ul>
<li><strong>Wrestler Definitions</strong> &ndash; Pointer to the wrestler definition data for this stable.</li>
<li><strong>Name Pointer</strong> (WM2K only) &ndash; Pointer to the stable name.</li>
<li><strong>Text Index</strong> (VPW2 and No Mercy only) &ndash; Index of the stable name in the relevant AkiText archive.</li>
<li><strong>Stable Name</strong> &ndash; Stable name, either from ROM (WM2K) or AkiText (VPW2, No Mercy)</li>
<li><strong>Wrestler Count</strong> (WM2K only) &ndash; Number of wrestlers in this stable.</li>
</ul>

<p>Wrestler lists in these three games consist of ID2 values. The available buttons in
the "Wrestlers" portion are:</p>
<ul>
<li><strong>Move Up</strong> &ndash; Moves the selected wrestler upwards in the list.</li>
<li><strong>Move Down</strong> &ndash; Moves the selected wrestler downward in the list.</li>
<li><strong>Switch Group</strong> &ndash; Attempt to move the selected wrestler to another stable.</li>
<li><strong>Swap Wrestler</strong> &ndash; Swap the selected wrestler with another.</li>
</ul>

<h4>Switch Group</h4>
<img src="img/stable_editor-switchgroup.png" />
<p>The Switch Group dialog is a bit odd to use since the relevant information is
displayed as numbers instead of names. This will be fixed later.</p>

<h4>Swap Wrestler</h4>
<img src="img/stable_editor-swapwrestler.png" />
<p>Much like the Switch Group dialog, the Swap Wrestler dialog displays the relevant
information using numbers. This will be fixed later.</p>

<p>First, select the destination stable using the drop-down box. Then, select the
ID2 value of the wrestler you want to swap.</p>

<hr />
<h2><a name="StoryMode">Story Mode</a></h2>
<p>"Project &rarr; Story Mode" (todo)</p>

<p>This feature is not yet implemented, as not all data has been found.
The table below shows what games will be supported once the feature is completed.
For now, please disregard the table below.</p>

<h3>Game Support</h3>
<table>
<thead>
<tr>
<th>Game</th>
<th>Support</th>
</tr>
</thead>
<tbody>
<tr>
<td>WCW vs. nWo World Tour</td>
<td class="notsupported">No*</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 64</td>
<td class="notsupported">No*</td>
</tr>
<tr>
<td>WCW/nWo Revenge</td>
<td class="notsupported">No*</td>
</tr>
<tr>
<td>WWF WrestleMania 2000</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 2</td>
<td class="supported">Yes</td>
</tr>
<tr>
<td>WWF No Mercy</td>
<td class="supported">Yes</td>
</tr>
</tbody>
</table>
<p>Note: The Story Mode editor for World Tour, VPW64, and Revenge can be found in the <a href="#Championships">Championships</a> section,
as the Championships and Story Mode are intertwined in those games.</p>

<p>(todo)</p>

<hr />
<h2><a name="Weapons">Weapons</a></h2>
<p>"Project &rarr; Weapons" (todo)</p>

<p>This feature is not yet implemented. Weapon data consists of models, textures, and
damage values. <em>WWF No Mercy</em> is different from the other games in this regard, due to
its upgraded weapon system.</p>

<hr />
<h2><a name="Wrestlers">Wrestlers</a></h2>
<p>The Wrestler Editor (Project &rarr; Wrestlers) allows you to view information
about wrestlers. (todo: sometimes you can edit them too)</p>

<h3>Game Support</h3>
<table>
<thead>
<tr>
<th>Game</th>
<th>Support</th>
</tr>
</thead>
<tbody>
<tr>
<td>WCW vs. nWo World Tour</td>
<td class="notsupported">No</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 64</td>
<td class="notsupported">No</td>
</tr>
<tr>
<td>WCW/nWo Revenge</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>WWF WrestleMania 2000</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>Virtual Pro-Wrestling 2</td>
<td class="partialsupport">Partial</td>
</tr>
<tr>
<td>WWF No Mercy</td>
<td class="partialsupport">Partial</td>
</tr>
</tbody>
</table>

<p>Most wrestler data is currently read-only. The exceptions to this are the
Appearance and Profile settings for <em>Virtual Pro-Wrestling 2</em> and
<em>WWF No Mercy</em>.</p>

<p>Proper wrestler editing support requires creating a system similar to the
Stable Definition format, to handle the per-game variations in wrestler data
formats. This will be fixed in the future.</p>

<h3>WCW/nWo Revenge</h3>
<img src="./img/wrestler_editor-revenge.png" title="Wrestler Editor - WCW/nWo Revenge" />

<p>Currently read-only.</p>

<ul>
<li><strong>Wrestler ID4</strong> &ndash; Two-byte wrestler identifier.</li>
<li><strong>Wrestler ID2</strong> &ndash; One-byte wrestler identifier.</li>
<li><strong>Unknown 1</strong> &ndash; One-byte value with unknown purpose.</li>
<li><strong>Unknown 2</strong> &ndash; Two-byte value with unknown purpose.</li>
<li><strong>Unknown 3</strong> &ndash; Two-byte value with unknown purpose.</li>
<li><strong>Name Pointer</strong> &ndash; Pointer to a string with the wrestler's name.</li>
<li><strong>Height Pointer</strong> &ndash; Pointer to a string with the wrestler's height.</li>
<li><strong>Weight Pointer</strong> &ndash; Pointer to a string with the wrestler's Weight.</li>
<li><strong>Unknown 4</strong> &ndash; One-byte value with unknown purpose.</li>
<li><strong>Manager ID2</strong> &ndash; ID2 value for the manager assigned to this wrestler.</li>
<li><strong>Unknown 5</strong> &ndash; One-byte value with unknown purpose.</li>
<li><strong>Unknown 6</strong> &ndash; One-byte value with unknown purpose.</li>
</ul>

<h3>WWF WrestleMania 2000</h3>
<img src="./img/wrestler_editor-wm2k.png" title="Wrestler Editor - WWF WrestleMania 2000" />

<p>Currently read-only.</p>

<ul>
<li><strong>Wrestler Name</strong> &ndash; The wrestler's name, including control characters for defining the short name.</li>
<li><strong>Wrestler ID4</strong> &ndash; Two-byte wrestler identifier.</li>
<li><strong>Wrestler ID2</strong> &ndash; One-byte wrestler identifier.</li>
<li><strong>Height</strong> &ndash; Wrestler's height, displayed in hex because lol imperial height measurements.</li>
<li><strong>Weight</strong> &ndash; Wrestler's weight, displayed in hex and in (more reasonable) pounds.</li>
<li><strong>Moveset Index</strong> &ndash; File ID of the wrestler's moveset.</li>
<li><strong>Params Index</strong> &ndash; File ID of the wrestler's parameters.</li>
<li><strong>Theme Music</strong> &ndash; Theme song used by this wrestler.</li>
<li><strong>Entrance Video</strong> &ndash; Titantron "video" used by this wrestler.</li>
<li><strong>Unknown</strong> &ndash; Two-byte value with unknown purpose.</li>
<li><strong>Costume Pointer 1-4</strong> &ndash; Pointers to the default costume data for this wrestler.</li>
</ul>

<h3>Virtual Pro-Wrestling 2</h3>
<img src="./img/wrestler_editor-vpw2.png" title="Wrestler Editor - Virtual Pro-Wrestling 2" />

<p>Currently read-only. (Yes, I had to do all these changes with a hex editor for VPW2 freem Edition.)</p>

<ul>
<li><strong>Wrestler ID4</strong> &ndash; Two-byte wrestler identifier.</li>
<li><strong>Wrestler ID2</strong> &ndash; One-byte wrestler identifier.</li>
<li><strong>Theme Music</strong> &ndash; Theme song used by this wrestler.</li>
<li><strong>Name Call</strong> &ndash; The name the ring announcer uses during introductions.</li>
<li><strong>Height</strong> &ndash; Wrestler's height, displayed in hex and in (more reasonable) centimeters.</li>
<li><strong>Weiight</strong> &ndash; Wrestler's weight, displayed in hex and in (more reasonable) kilograms.</li>
<li><strong>Voice A</strong> &ndash; Voice used for (attack or taunt).</li>
<li><strong>Voice B</strong> &ndash; Voice used for (attack or taunt).</li>
<li><strong>Moveset Index</strong> &ndash; File ID of the wrestler's moveset.</li>
<li><strong>Params Index</strong> &ndash; File ID of the wrestler's parameters.</li>
<li><strong>Appearance Index</strong> &ndash; Index of the wrestler's first costume in the default costume data. Pressing "View/Edit" will bring up the VPW2 default costume editor.</li>
<li><strong>Profile Index</strong> &ndash; Index of the wrestler's first entry in the default wrestler name <code>AkiText</code> archive.</li>
</ul>

<h3>WWF No Mercy</h3>
<img src="./img/wrestler_editor-nomercy.png" title="Wrestler Editor - WWF No Mercy" />

<p>Currently read-only.</p>

<ul>
<li><strong>Wrestler ID4</strong> &ndash; Two-byte wrestler identifier.</li>
<li><strong>Wrestler ID2</strong> &ndash; One-byte wrestler identifier.</li>
<li><strong>Theme Music</strong> &ndash; Theme song used by this wrestler.</li>
<li><strong>Entrance Video</strong> &ndash; Titantron "video" used by this wrestler.</li>
<li><strong>Height</strong> &ndash; Wrestler's height, displayed in hex.</li>
<li><strong>Unknown</strong> &ndash; One-byte value with unknown purpose.</li>
<li><strong>Weight</strong> &ndash; Wrestler's weight, displayed in hex. Unlike previous games, uses two bytes.</li>
<li><strong>Moveset Index</strong> &ndash; File ID of the wrestler's moveset.</li>
<li><strong>Params Index</strong> &ndash; File ID of the wrestler's parameters.</li>
<li><strong>Appearance Index</strong> &ndash; Index of the wrestler's first costume in the default costume data. Pressing "View/Edit" will bring up the No Mercy default costume editor.</li>
<li><strong>Profile Index</strong> &ndash; Index of the wrestler's first entry in the default wrestler name <code>AkiText</code> archive.</li>
</ul>

<hr />
<h2><a name="Tools">Tools</a></h2>
<p>VPW Studio also provides tools that aren't tied to the concept of Projects.
The tools in this section can be used without needing an open Project.</p>

<h3><a name="#ModelTool">Model Tool</a></h3>
<img src="./img/modeltool.png" title="The original Model Tool" />
<p>The original Model Tool (not to be confused with <a href="#ModelTool2">ModelTool2</a>)
was the first attempt at providing model data information. Unlike ModelTool 2, it shows
the list of vertices and faces.</p>

<p>Much like ModelTool2, you can export the model to Wavefront OBJ format via the
"Export OBJ..." button.</p>

<hr />
<h2><a name="DangerZone">Danger Zone</a></h2>
<p>The Danger Zone is a collection of tools that is not necessarily meant for
end users. These tools are typically rough and unfinished, and usually serve as
the base for the final, more polished features. Starting with pre-alpha preview
15, items are grouped by their general purpose.</p>

<h3>Image Conversion</h3>
<ul>
<li><strong>png to tex</strong> &ndash; Converts a PNG to TEX format. PNG must be 16 or 256 colors. Of all the Danger Zone items, this is the one most people will actually need.</li>
<li><strong>png to ci4</strong> &ndash; Converts a PNG to CI4 format. PNG must be 16 colors.</li>
<li><strong>png to ci8</strong> &ndash; Converts a PNG to CI8 format. PNG must be 256 colors.</li>
<li><strong>png to menubg</strong> &ndash; Converts a 320x240 PNG to binary menu background chunks.</li>
</ul>

<h3>LZSS-related</h3>
<ul>
<li><strong>lzss compress test</strong> &ndash; LZSS compress a file. File is exported as <code>(filename).lzss</code>.</li>
<li><strong>lzss decompress test</strong> &ndash; Decompress an LZSS file. File is exported as <code>(filename).bin</code>.</li>
</ul>

<h3>Others</h3>
<ul>
<li><strong>name encoder/decoder</strong> &ndash; Work in progress tool for encoding and decoding the name format used from <em>WCW vs. nWo World Tour</em> through <em>WWF WrestleMania 2000</em>.</li>
<li><strong>toki 1 test</strong> &ndash; View Toki1 info. Requires an open project.</li>
<li><strong>vpw2 face test</strong> &ndash; Attempts to render faces from VPW2 given specific values. Requires an open VPW2 project.</li>
<li><strong>stable parse test</strong> &ndash; Internal test of parsing the text StableDefinition format. Only properly handles VPW2 and No Mercy formats.</li>
<li><strong>rom slice test</strong> &ndash; Test the HexViewerManager by getting a specific slice of ROM data. Requires an open project.</li>
<li><strong>move damage test (WM2K/VPW2/No Mercy only)</strong> &ndash; Show move damage values. Requires an open WM2K/VPW2/No Mercy project.</li>
<li><strong>tim test</strong> &ndash; Tests loading of TIM files (PlayStation textures) and their internal CLUT/palette values. Currently only handles the first image in multi-image archives.</li>
</ul>

<hr />
<h2><a name="Credits">Credits</a></h2>
<p>(todo: very incomplete)</p>
<ul>
<li><strong>Main Programming</strong> &ndash; freem</li>
<li><strong>Assistance</strong> &ndash; Zoinkity, S.K. Styles, Keson, jordyad, randymanfoo</li>
</ul>

<p>VPW Studio uses <a href="https://opentk.net/">OpenTK</a> 3 and <a href="https://sourceforge.net/projects/hexbox/">Be.HexBox</a>, both of which are MIT licensed.</p>

<p>This tool is dedicated to the memory of Maximo.</p>

<hr />
<h2><a name="Glossary">Appendix A: Glossary</a></h2>
<p>Various communities create and use jargon to refer to ideas and concepts.
The Virtual Pro-Wrestling series hacking communities are no exception.
In addition, terms from other communities need to be borrowed or referenced
from time to time, and they may not be familiar to everyone. This even
extends to programs whose name and function are not immediately obvious.</p>

<dl>
<dt>Addy</dt>
<dd>Short for "address", as in "memory address".</dd>

<dt>Broad Action</dt>
<dd>The general action the wrestler is performing. A Broad Action can have several
"Sub-Actions" (or "action states", if you prefer).</dd>

<dt>CI4</dt>
<dd>16 color texture format used on Nintendo 64.</dd>

<dt>CI8</dt>
<dd>256 color texture format used on Nintendo 64.</dd>

<dt>CLUT</dt>
<dd>Color Look-Up Table; PlayStation palette format.</dd>

<dt>Doctor V64</dt>
<dd>Unofficial Nintendo 64 development tool and backup device that connects under
the N64. Also allows for loading games off of a CD-ROM. Origin of the V64 ROM format.</dd>

<dt>I4</dt>
<dd>16 value intensity texture format used on Nintendo 64.</dd>

<dt>ID2</dt>
<dd>One of the two ways of identifying a wrestler. This value is one byte
and controls indexing into various arrays and structures. ID2 values are
always given in hex.</dd>

<dt>ID4</dt>
<dd>One of the two ways of identifying a wrestler. This value is two bytes,
being used as a unique identifier (not necessarily matching the ID2 order).
ID4 values are always given in hex.</dd>

<dt>Midwaydec</dt>
<dd>A "dead" tool by Zoinkity that handles various N64 archive formats.</dd>

<dt>Mr. Backup Z64</dt>
<dd>Unofficial Nintendo 64 backup device that connects to the N64's cartridge
slot. Originally shipped with a Zip drive, but can be modified to use other
storage mediums. Origin of the Z64 ROM format.</dd>

<dt>Offsetter</dt>
<dd>Another Zoinkity-created tool for inserting files into a VPW2 ROM and fixing
the relevant offsets. VPW Studio largely owes its existence to this program,
particularly the File Table portion.</dd>

<dt>TIM</dt>
<dd>PlayStation texture format.</dd>

<dt>Toki 1</dt>
<dd>Originally known as "Animation Stat Mods 1", the Toki 1 values control
a large number of parameters for moves.</dd>

<dt>Toki 2</dt>
<dd>Originally known as "Animation Stat Mods 2", the Toki 2 values control:
<ul>
<li>Player's "general" animation at the end of the previous animation.</li>
<li>Facing direction at the end of the animation.</li>
<li>Number of frames in the animation.</li>
</ul>
</dd>

<dt>Toki 3</dt>
<dd>Toki 3 values are related to items in the File Table. Depending on who you ask,
they're either the file IDs themselves, or the location of the data in the ROM (relative
to the start location of the first file in the archive).</dd>

<dt>V64</dt>
<dd>One of the primary ROM formats used for Nintendo 64 games, typically dumped
using a Doctor V64.</dd>

<dt>Z64</dt>
<dd>One of the primary ROM formats used for Nintendo 64 games, typically dumped
using a Mr. Backup Z64.</dd>
</dl>

<hr />
<div id="footer">(footer content todo)</div>

</body>
</html>